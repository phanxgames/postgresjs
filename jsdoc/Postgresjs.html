<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Postgresjs - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Postgresjs.html">Postgresjs</a><ul class='methods'><li data-type='method'><a href="Postgresjs.html#asyncForEach">asyncForEach</a></li><li data-type='method'><a href="Postgresjs.html#begin">begin</a></li><li data-type='method'><a href="Postgresjs.html#commit">commit</a></li><li data-type='method'><a href="Postgresjs.html#deleteHelper">deleteHelper</a></li><li data-type='method'><a href="Postgresjs.html#end">end</a></li><li data-type='method'><a href="Postgresjs.html#error">error</a></li><li data-type='method'><a href="Postgresjs.html#insertHelper">insertHelper</a></li><li data-type='method'><a href="Postgresjs.html#merge">merge</a></li><li data-type='method'><a href="Postgresjs.html#mergeHelper">mergeHelper</a></li><li data-type='method'><a href="Postgresjs.html#orderByHelper">orderByHelper</a></li><li data-type='method'><a href="Postgresjs.html#query">query</a></li><li data-type='method'><a href="Postgresjs.html#rollback">rollback</a></li><li data-type='method'><a href="Postgresjs.html#selectHelper">selectHelper</a></li><li data-type='method'><a href="Postgresjs.html#setLocalConfig">setLocalConfig</a></li><li data-type='method'><a href="Postgresjs.html#setResume">setResume</a></li><li data-type='method'><a href="Postgresjs.html#start">start</a></li><li data-type='method'><a href="Postgresjs.html#updateHelper">updateHelper</a></li><li data-type='method'><a href="Postgresjs.html#whereHelper">whereHelper</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Postgresjs</h1>
    

    




<section>

<header>
    
        <h2>
        Postgresjs
        </h2>
        
            <div class="class-description"><p>For use with Postgresql databases.</p>
<p>Created by <a href="http://www.github.com/phanxgames">Phanxgames</a></p>

<h4>Requirements:</h4>
- ECMAScript 2015 (ES6)<br>
- Node.JS 6.2.2 or later (tested on 6.2.2)

<h4>Installation:</h4>
<pre>
     npm install postgresjs
</pre>
<p>Note: the dictionaryjs, pg and suspend modules should be automatically installed as dependencies, but you may need to install these as well.</p>

Copy the dbConfig.ex.json file into your project source folder, rename to dbConfig.json,
and update with your database connection information.


<h4>Important:</h4>
<p>You may only use one connection with each instance of this class.
Close any opened connection before opening a new one.
You may reuse an instance with a new connection if you close the previous.</p>

<h4>Asynchronous nature:</h4>
<p>All methods that include a callback (cb) have been designed to be used with the
suspend library and may be placed behind a yield command. Be sure to leave the cb
parameter null to use the suspend.resume functionality automatically.</p>

<p>IMPORTANT: You will also need to set the resume reference in the constructor or the
<a href="Postgresjs.html#setResume">Postgresjs#setResume</a> method, before the suspend.resume functionality will
be enabled.</p>

<p>If you do provide a callback, the 3rd parameter, "next" (ex: cb(err,result, next))
will be the suspend.resume function reference so you may resume execution
to move past the next yield command.</p>

<h4>Example:</h4>
<pre>
  var suspend = require("suspend");
  var Postgresjs = require("postgresjs");

  //Attach your dbConfig to the Postgresjs module
  Postgresjs.config = require('./dbConfig.json');

  var db = new Postgresjs(suspend.resume);

  suspend(function*() {
     yield db.start();

     //find all users' email with a username that contains "phanx"
     yield db.query("select email from users where username LIKE ? ;",["%phanx%"]);

     if (db.error()) {
         console.error("Error:",db.error());
         return;
     }

     console.log(db.rowCount + " rows found!");

     for (let row of db.rows) {
         console.log(row);
         if (row.email == "test@test.com") {
             //..
         }
     }

     //..place other below examples here..

     yield db.end();

  })();
</pre></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="Postgresjs"><span class="type-signature"></span>new Postgresjs<span class="signature">(resume<span class="signature-attributes">opt</span>, config<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line77">line 77</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Pass in a unique config just for this instance by using require to get
the JSON contents.
<h4>Example:</h4>
<pre>
    //..
    var suspend = require("suspend");

    var myconfig = require("./dbConfig2.json");
    var db = new Postgresjs(suspend.resume,myconfig);
    //..
</pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>resume</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">set to suspend.resume from generator context
         to use suspend library with yields. See setResume.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Overwrite the global config for just this instance.</td>
        </tr>

    
    </tbody>
</table>
















    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".config"><span class="type-signature">(static) </span>config<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line132">line 132</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Required to set this before you first initalize this class.<br>
This should be static across your entire project and only needs to be set once.<br>
Set to the Contents of dbConfig.json as Object.
<h4>Example:</h4>
<pre>
    var Postgresjs = require("postgresjs");
    Postgresjs.config = require("./dbConfig.json");
    //..
</pre>
</div>








        
            
<h4 class="name" id="connectionString"><span class="type-signature"></span>connectionString<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line165">line 165</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Returns connection string with dbConfig values inserted inline.
</div>








        
            
<h4 class="name" id="rowCount"><span class="type-signature"></span>rowCount<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line1240">line 1240</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Returns number of rows last affected by last query
</div>








        
            
<h4 class="name" id="rows"><span class="type-signature"></span>rows<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line1233">line 1233</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Returns an array of objects as rows from last query
</div>








        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="asyncForEach"><span class="type-signature"></span>asyncForEach<span class="signature">(cbIterator, cbFinal<span class="signature-attributes">opt</span>, enableCallback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line1263">line 1263</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Loops over the rows from the last query. Non-blocking.
<h4>Example:</h4>
<pre>
  //..
  yield db.asyncForEach((index,item,next) => {
     console.log(index + ") ",item);
     //..
     next();
  });
 //..
</pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cbIterator</code></td>
            

            <td class="type">
            
                
<span class="param-type">Postgresjs~cbAsyncForEachIterator</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Returns cb(index,item,cbNext).
             <br>Must call cbNext() to continue.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cbFinal</code></td>
            

            <td class="type">
            
                
<span class="param-type">Postgresjs~cbAsyncForEachFinal</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Returns cb().</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>enableCallback</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>true</code>
                
                </td>
            

            <td class="description last">Set to false to disable default
               callback handling (used to disable suspend.resume on loop completion).</td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="begin"><span class="type-signature"></span>begin<span class="signature">(cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line486">line 486</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Begins a transaction.
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Postgresjs.html#~cbOnError">Postgresjs~cbOnError</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Use callback or leave null to use suspend.resume.
             <br>Returns cb(err)</td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="commit"><span class="type-signature"></span>commit<span class="signature">(cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line495">line 495</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Commits the transaction.
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Postgresjs.html#~cbOnError">Postgresjs~cbOnError</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Use callback or leave null to use suspend.resume.
             <br>Returns cb(err)</td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="deleteHelper"><span class="type-signature"></span>deleteHelper<span class="signature">(options, cb)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line853">line 853</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Delete Statement Helper
<h4>Example:</h4>
Deletes user record with the username "tester".
<pre>
    //..
    yield db.deleteHelper({
         table: "users",
         where: db.whereHelper({
             "username":"tester"
         })
    });
    //..
</pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Required. See properties:
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>table</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Table name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>where</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">where clause sql statement segment (ie: name=? OR id=? )
                     <br>You may also use <a href="Postgresjs.html#whereHelper">Postgresjs#whereHelper</a></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>whereParas</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Array of values to replace parameters in where SQL
                     <br>Not needed if you use whereHelper.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>limit</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Number of records to delete, or null for infinite.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">(optional) callback, cb(err)</td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="end"><span class="type-signature"></span>end<span class="signature">(cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line238">line 238</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Closes the connection.
You must call this when you are done with this database connection.
If you do not end the connection the pool will be exhausted.
<p>Alias: close(cb)</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Postgresjs.html#~cbOnEmpty">Postgresjs~cbOnEmpty</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Use callback or leave null to use suspend.resume.
                           <br>Returns cb(err)</td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="error"><span class="type-signature"></span>error<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line1226">line 1226</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Returns an error object from the last executed command on this db conn.
</div>























<h5>Returns:</h5>

        
<div class="param-desc">
    Error object or null if no error
</div>



    


        
            

    

    <h4 class="name" id="insertHelper"><span class="type-signature"></span>insertHelper<span class="signature">(options, cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line644">line 644</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Insert Statement Helper
<h4>Example:</h4>
Insert new user into users table.
<pre>
    //..
    yield db.insertHelper({
         table:"users",
         columns:{
             "username":"tester",
             "email":"oldemail@test.com"
         }
    });
    //..
</pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Required. See properties:
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>table</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Table name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>columns</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Leave null to use table order of columns.
                 <br>Array of column names to update, use with options.values property to specifiy values.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>columns</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Or Object where keys are column names and values are values.
                  Note: options.values property not needed.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>values</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Array of values used with options.columns (Array) property.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Postgresjs.html#~cbOnError">Postgresjs~cbOnError</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Use callback or leave null to use suspend.resume.
                 <br>Returns cb(err)</td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="merge"><span class="type-signature"></span>merge<span class="signature">(sqlInsert, parasInsert<span class="signature-attributes">opt</span>, sqlUpdate, parasUpdate<span class="signature-attributes">opt</span>, cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line363">line 363</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Merge allows you to insert or update a record by proving insert
and update sql statements.
<p>Try using instead the <a href="Postgresjs.html#mergeHelper">Postgresjs#mergeHelper</a> to generate the
two sql statements.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sqlInsert</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">sql statement with unnamed parameters (ie: ?)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>parasInsert</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">array of parameters to replace ? in sql</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sqlUpdate</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">sql statement with unnamed parameters (ie: ?)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>parasUpdate</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">array of parameters to replace ? in sql</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Postgresjs.html#~cbOnMerge">Postgresjs~cbOnMerge</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Use callback or leave null to use suspend.resume.
             <br>Returns cb(err,result) where result will be either
             "insert" or "update" depending on which action was used.</td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="mergeHelper"><span class="type-signature"></span>mergeHelper<span class="signature">(options, cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line933">line 933</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Helper function of Merge method.
<p>Merge is a smart method that uses insert or update internally.
See <a href="Postgresjs.html#merge">Postgresjs#merge</a> for more information.</p>
<h4>Example:</h4>
Inserts a new user in the users table or updates their email if already found.
<pre>
    //..
    yield db.mergeHelper({
         table: "users",
         columns: {
             "username":"tester",
             "email":"test@test.com"
         },
         where: db.whereHelper({
             "username":"tester"
         })
    });
    //..
</pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Required. See properties:
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>table</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Table name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>columns</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Array of column names to update, use with options.values property to specifiy values.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>columns</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Or Object where keys are column names and values are values.
                  Note: options.values property not needed.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>values</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Array of values used with options.columns (Array) property.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>where</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">where clause sql statement segment (ie: name=? OR id=? )
                     <br>You may also use <a href="Postgresjs.html#whereHelper">Postgresjs#whereHelper</a></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>whereParas</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Array of values to replace parameters in where SQL
                     <br>Not needed if you use whereHelper.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Postgresjs.html#~cbOnMerge">Postgresjs~cbOnMerge</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Use callback or leave null to use suspend.resume.
                 <br>Returns cb(err,result) where result is either "update" or "insert" depending on which operation was needed.</td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="orderByHelper"><span class="type-signature"></span>orderByHelper<span class="signature">(options)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line1148">line 1148</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Returns a string to be used in the "orderBy" field in other helpers.
See <a href="Postgresjs.html#selectHelper">Postgresjs#selectHelper</a>.
<p>Sort options are either "ASC" or "DESC".</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Required. See properties:
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>columns</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Array of column names, or
             <br>Array of Objects: [{name:"column name",sort:"ASC"}, ..], or
             <br>Array of Arrays: [["column name","ASC"], ..]</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>defaultSort</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>"ASC"</code>
                
                </td>
            

            <td class="description last">Used if sort is not specified.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    string of sql (the order by clause)
</div>



    


        
            

    

    <h4 class="name" id="query"><span class="type-signature"></span>query<span class="signature">(sql, paras<span class="signature-attributes">opt</span>, cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line292">line 292</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Executes SQL statement on database.
<p>Use question-marks (ie: ?) as unnamed parameters within the SQL statement.</p>
<h4>Example:</h4>
<pre>
    //..
    yield db.query("select username from users where email=?;",["test@test.com"]);
    for (let row of db.rows) {
        console.log(row.username);
    }
    //..
</pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sql</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">sql statement to execute</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>paras</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">array of parameters, replacing "?" in SQL</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Postgresjs.html#~cbOnQuery">Postgresjs~cbOnQuery</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Use callback or leave null to use suspend.resume.
             <br>Returns cb(err,results) where result is an array of rows.</td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="rollback"><span class="type-signature"></span>rollback<span class="signature">(cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line504">line 504</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Rolls back the transaction.
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Postgresjs.html#~cbOnError">Postgresjs~cbOnError</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Use callback or leave null to use suspend.resume.
             <br>Returns cb(err)</td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="selectHelper"><span class="type-signature"></span>selectHelper<span class="signature">(options, cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line550">line 550</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Select Statement Helper.
<h4>Example:</h4>
Select emails from users table that have a username that starts with the letter "h":
<pre>
    //..
    yield db.selectHelper({
         table:"users",
         columns:["username","email"],
         where: db.whereHelper({
             "username -like":"h%"
         }),
         orderBy: db.orderByHelper({
             "email":"ASC"
         })
    });

    for (let row of db.rows) {
         console.log(row);
         //Output example: {username:"Tester",email:"test@test.com"}
    }

    //..
</pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Required. See properties:
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>table</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Table name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>columns</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Array of column names to select.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>where</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">where clause sql statement segment (ie: name=? OR id=? )
                     <br>You may also use <a href="Postgresjs.html#whereHelper">Postgresjs#whereHelper</a></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>whereParas</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Array of values to replace parameters in where SQL
                     <br>Not needed if you use whereHelper.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>orderBy</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">order clause sql statement segment (ie: name ASC)
                     <br>You may also use <a href="Postgresjs.html#orderByHelper">Postgresjs#orderByHelper</a></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>limit</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Number of records to return, or null for infinite.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>start</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>0</code>
                
                </td>
            

            <td class="description last">Start row index position.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Postgresjs.html#~cbOnQuery">Postgresjs~cbOnQuery</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Use callback or leave null to use suspend.resume.
             <br>Returns cb(err,results) where result is an array of rows.</td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="setLocalConfig"><span class="type-signature"></span>setLocalConfig<span class="signature">(config)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line140">line 140</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="setResume"><span class="type-signature"></span>setResume<span class="signature">(resume)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line154">line 154</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Enables automatic calling of suspend.resume on all methods with
optional callbacks.  See Class comment at top of file.
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>resume</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">set to suspend.resume, set to null to disable</td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="start"><span class="type-signature"></span>start<span class="signature">(cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line180">line 180</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Opens a database connection. Must be called before using any other method.
<p>Alias: open(cb)</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Postgresjs.html#~cbOnError">Postgresjs~cbOnError</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Use callback or leave null to use suspend.resume.
                                <br> Returns cb()</td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="updateHelper"><span class="type-signature"></span>updateHelper<span class="signature">(options, cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line741">line 741</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Update Statement Helper
<h4>Example:</h4>
Updates user's email by username.
<pre>
    //..
    yield db.updateHelper({
         table: "users",
         columns: {
             "email":"newemail@test.com"
         },
         where: db.whereHelper({
             "username":"tester"
         })
    });
    //..
</pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Required. See properties:
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>table</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Table name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>columns</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Array of column names to update, use with options.values property to specifiy values.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>columns</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Or Object where keys are column names and values are values.
                  Note: options.values property not needed.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>values</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Array of values used with options.columns (Array) property.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>where</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">where clause sql statement segment (ie: name=? OR id=? )
                     <br>You may also use <a href="Postgresjs.html#whereHelper">Postgresjs#whereHelper</a></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>whereParas</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Array of values to replace parameters in where SQL
                     <br>Not needed if you use whereHelper.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Postgresjs.html#~cbOnError">Postgresjs~cbOnError</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last">Use callback or leave null to use suspend.resume.
                 <br>Returns cb(err)</td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="whereHelper"><span class="type-signature"></span>whereHelper<span class="signature">(variables, defaultLogic<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line1057">line 1057</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Builds the where option for use with "where" option in other helpers.
See <a href="Postgresjs.html#selectHelper">Postgresjs#selectHelper</a>, <a href="Postgresjs.html#deleteHelper">Postgresjs#deleteHelper</a>,
<a href="Postgresjs.html#updateHelper">Postgresjs#updateHelper</a>, <a href="Postgresjs.html#mergeHelper">Postgresjs#mergeHelper</a>.
<h4>Example:</h4>
<pre>
    //..
    db.whereHelper({
      "name -like":"%Smith",
      "banned":false
    });
    //..
</pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>variables</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Set keys as column names and values as desired value.
             <br>Special flags may be appended to key string:
             <br> -like  : uses the LIKE comparator
             <br> -notlike : uses the NOT LIKE comparator
             <br> -not : uses the != comparator
             <br> <i>default</i> : uses the = comparator</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>defaultLogic</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>"AND"</code>
                
                </td>
            

            <td class="description last">logic seperator (ie: OR)</td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    object for use with the "where" option in other helpers.
</div>



    


        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                

    

    <h4 class="name" id="~cbOnEmpty"><span class="type-signature"></span>cbOnEmpty<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line1529">line 1529</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Callback returns no parameters.
</div>

























            
                

    

    <h4 class="name" id="~cbOnError"><span class="type-signature"></span>cbOnError<span class="signature">(err)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line1534">line 1534</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err</code></td>
            

            <td class="type">
            
                
<span class="param-type">Error</span>


            
            </td>

            

            

            <td class="description last">Returns an error if there was one, or null.</td>
        </tr>

    
    </tbody>
</table>
















            
                

    

    <h4 class="name" id="~cbOnMerge"><span class="type-signature"></span>cbOnMerge<span class="signature">(err, result)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line1552">line 1552</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Returns the result of the merge.
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err</code></td>
            

            <td class="type">
            
                
<span class="param-type">Error</span>


            
            </td>

            

            

            <td class="description last">An error if there was one, or null.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Either "insert" or "update" depending on what was used.</td>
        </tr>

    
    </tbody>
</table>
















            
                

    

    <h4 class="name" id="~cbOnQuery"><span class="type-signature"></span>cbOnQuery<span class="signature">(err, result)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Postgresjs.js.html">Postgresjs.js</a>, <a href="Postgresjs.js.html#line1539">line 1539</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Returns the result of the query as an array of rows. Example:
<pre>
    [
         {id: 1, name: "Bob"},
         {id: 2, name: "John"}
    ]
</pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err</code></td>
            

            <td class="type">
            
                
<span class="param-type">Error</span>


            
            </td>

            

            

            <td class="description last">An error if there was one, or null.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">An array of objects, where each object represents a row, or null.</td>
        </tr>

    
    </tbody>
</table>
















            
    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Thu Jul 14 2016 06:20:49 GMT-0400 (Eastern Daylight Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>